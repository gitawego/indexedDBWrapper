{"version":3,"sources":["BaseEvented.js","CustomEvent.js","IDBStore.js","IndexedDBWrapper.js","helper.js"],"names":[],"mappings":"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","file":"IndexedDBWrapper.js","sourcesContent":["import CustomEvent from './CustomEvent';\nimport {helper} from './helper';\n\nlet slice = Array.prototype.slice;\n\n/**\n * evented base component, use CustomEvent as compositor\n * @class com.sesamtv.core.util.BaseEvented\n * @requires com.sesamtv.core.util.CustomEvent\n */\nexport default class BaseEvented {\n    constructor() {\n        /**\n         * @property event\n         * @type {com.sesamtv.core.util.CustomEvent}\n         */\n        this.event = new CustomEvent();\n\n        helper.applyIf(this, {\n            /**\n             * named listener handlers\n             * @property evts\n             * @type {Object}\n             */\n            evts: {},\n            /**\n             * anonymous listener handlers\n             * @property connect\n             * @type {Array}\n             */\n            connect: [],\n            config: {}\n        });\n    }\n\n    /**\n     * @method on\n     * @param {String} evt\n     * @param {Function} fnc\n     * @param {Boolean} [once]\n     * @returns {{id: Number, remove: Function}}\n     */\n    on(evt, fnc, once) {\n        return this.event[once ? 'once' : 'on'](evt, fnc.bind(this));\n    }\n\n    /**\n     * @method once\n     * @param {String} evt\n     * @param {Function} fnc\n     * @returns {{id: Number, remove: Function}}\n     */\n    once(evt, fnc) {\n        return this.on(evt, fnc.bind(this), true);\n    }\n\n    /**\n     * @method emit\n     * @returns {Array}\n     */\n    emit() {\n        return this.event.emit.apply(this.event, arguments);\n    }\n\n    /**\n     * @method broadcast\n     * @param {String} wildcard\n     */\n    broadcast(wildcard) {\n        return this.event.broadcast.apply(this.event, arguments);\n    }\n\n    /**\n     * set a property\n     * @method set\n     * @param k\n     * @param v\n     */\n    set(k, v) {\n        if (k === 'config') {\n            return this.setConfigs(v);\n        }\n        if (k in this && this[k] === v) {\n            return;\n        }\n        var res = {\n            newValue: v\n        };\n        if (k in this) {\n            res.oldValue = isObject(this[k]) ? helper.deepClone(this[k]) : this[k];\n        }\n        this[k] = v;\n        this.emit(k, res);\n\n    }\n\n    /**\n     * @method setConfigs\n     * @param {Object} v\n     */\n    setConfigs(v) {\n        Object.keys(v).forEach(function (k) {\n            this.setConfig(k, v[k]);\n        }, this);\n    }\n\n    /**\n     * set a config property\n     * @method setConfig\n     * @param {String} k\n     * @param {*} v\n     */\n    setConfig(k, v) {\n        if (arguments.length === 1) {\n            return this.setConfigs(k);\n        }\n        if (k in this.config && this.config[k] === v) {\n            return;\n        }\n        var res = {\n            key: k,\n            newValue: v\n        };\n        if (k in this.config) {\n            res.oldValue = isObject(this.config[k]) ? helper.deepClone(this.config[k]) : this.config[k];\n        }\n        this.config[k] = v;\n        this.emit('config', res);\n        this.emit('config/' + k, res);\n    }\n\n    /**\n     * @method getConfig\n     * @param {String} k\n     * @returns {*}\n     */\n    getConfig(k) {\n        var res = this.config[k], getter = k + 'Getter';\n        if (this.config[getter]) {\n            return this.config[getter](res, this);\n        }\n        return res;\n    }\n\n    removeEvts(evts) {\n        evts.forEach(function (evt) {\n            if (this.evts[evt]) {\n                this.evts[evt].remove();\n                delete this.evts[evt];\n            }\n        }, this);\n    }\n\n    /**\n     * @method destroy\n     */\n    destroy() {\n\n        this.connect.forEach(function (c) {\n            c.remove();\n        });\n        this.connect.length = 0;\n        Object.keys(this.evts).forEach(function (e) {\n            this.evts[e].remove();\n        }, this);\n        this.evts = {};\n        this.event.purgeListeners();\n        this.$purgeSuper && this.$purgeSuper();\n    }\n}\n/**\n * eventize an object by composition\n * @method eventize\n * @static\n * @param {Object} self\n * @returns {Object}\n */\nBaseEvented.eventize = function (self) {\n    self.event = new CustomEvent();\n    helper.applyIf(self, {\n        evts: {},\n        connect: [],\n        config: {}\n    });\n    var proto = BaseEvented.prototype, supers = {};\n    Object.keys(proto).forEach(function (k) {\n        if (k in self && typeof(self[k]) === 'function') {\n            supers[k] = proto[k];\n        } else {\n            self[k] = proto[k];\n        }\n    });\n    self.$super = function (k) {\n        return supers[k] && supers[k].apply(this, slice.call(arguments, 1));\n    };\n    self.$purgeSuper = function () {\n        supers = null;\n    };\n    return self;\n};\n","\"use strict\";\nlet slice = Array.prototype.slice,\n    glb = typeof(window) !== 'undefined' ? window : global;\n\nlet uuid = (typeof(glb.crypto) != 'undefined' &&\ntypeof(glb.crypto.getRandomValues) != 'undefined') ?\n    function () {\n        // If we have a cryptographically secure PRNG, use that\n        // http://stackoverflow.com/questions/6906916/collisions-when-generating-uuids-in-javascript\n        var buf = new Uint16Array(8);\n        glb.crypto.getRandomValues(buf);\n        var S4 = function (num) {\n            var ret = num.toString(16);\n            while (ret.length < 4) {\n                ret = \"0\" + ret;\n            }\n            return ret;\n        };\n        return (S4(buf[0]) + S4(buf[1]) + \"-\" + S4(buf[2]) + \"-\" + S4(buf[3]) + \"-\" + S4(buf[4]) + \"-\" + S4(buf[5]) + S4(buf[6]) + S4(buf[7]));\n    } : function uuid(tpl) {\n    tpl = tpl || 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\n    var d = (new Date()).getTime();\n    return tpl.replace(/[xy]/g, function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16);\n    });\n};\nlet mixin = function mixin(dest, source) {\n    var name, s, empty = {};\n    for (name in source) {\n        s = source[name];\n        if (!(name in dest) ||\n            (dest[name] !== s && (!(name in empty) || empty[name] !== s))) {\n            dest[name] = s;\n        }\n    }\n    return dest;\n};\n/**\n * @class com.sesamtv.core.util.CustomEvent\n * @cfg {Object} [args]\n * @cfg {String} [args.channelSeparator]\n */\nexport default class CustomEvent {\n    constructor(args) {\n        /**\n         * @property _listeners\n         * @type {Object.<String,Array>}\n         * @private\n         */\n        this._listeners = {};\n        this.channelSeparator = '/';\n        args && mixin(this, args);\n    }\n\n    /**\n     * @method buildListener\n     * @private\n     * @param {Function|Object} listener\n     * @return {{id:String,content:Function}}\n     */\n    buildListener(listener) {\n        var _id = '#Listener:' + uuid();\n        if (typeof listener === 'function') {\n            listener = {\n                id: _id,\n                content: listener\n            };\n        } else {\n            if (!listener.id) {\n                listener.id = _id;\n            }\n        }\n        return listener;\n    }\n\n    /**\n     * @method on\n     * @param {String} eventName\n     * @param {Function|Object} listener\n     * @param {String} listener.id if listener is an object, define listener id\n     * @param {Function} listener.content if listener is an object, define function\n     * @return {{id:Number,remove:Function}}\n     */\n    on(eventName, listener) {\n        var self = this;\n        if (typeof this._listeners[eventName] === \"undefined\") {\n            this._listeners[eventName] = [];\n        }\n        listener = this.buildListener(listener);\n        if (this.hasListener(eventName, listener.id)) {\n            throw new Error('listener id ' + listener.id + ' duplicated');\n        }\n        this._listeners[eventName].push(listener);\n        return {\n            remove: function () {\n                return self.off(eventName, listener.id);\n            },\n            id: listener.id\n        };\n    }\n\n    /**\n     * listener is triggered only once\n     * @method once\n     * @param {String} eventName\n     * @param {Function|Object} listener\n     * @param {Function} listener.content\n     * @param {String} listener.id\n     * @return {{id:Number,remove:Function}}\n     */\n    once(eventName, listener) {\n        var self = this;\n        listener = this.buildListener(listener);\n        var origContent = listener.content;\n        listener.content = function () {\n            self.off(eventName, listener.id);\n            origContent.apply(self, arguments);\n        };\n        return this.on(eventName, listener);\n    }\n\n    /**\n     * listener is removed when the callback return true\n     *\n     *      this.when('click',function(node){\n             *          return node.id === 'container';\n             *      });\n     *\n     * @method when\n     * @param {String} event\n     * @param {Function} callback\n     * @returns {*}\n     */\n    when(event, callback) {\n        var self = this;\n\n        function check() {\n            if (callback.apply(this, arguments)) {\n                self.off(event, check);\n            }\n        }\n\n        check.listener = callback;\n        self.on(event, check);\n        return this;\n    }\n\n    /**\n     * broadcast message to events, support wildcard (* or ?)\n     *\n     *      this.broadcast('channel1/*',message);\n     *      this.broadcast('channel1/????/event1',message);\n     *      this.broadcast('channel1/event1',msg1,msg2);\n     *\n     * @method broadcast\n     * @param {String} wildcard\n     */\n    broadcast(wildcard) {\n        var params = slice.call(arguments, 1), evtNames = this.getEventNamesByWildcard(wildcard),\n            i = 0, l = evtNames.length, res = [];\n        for (; i < l; i++) {\n            res.push(this.emit.apply(this, [evtNames[i]].concat(params)));\n        }\n        return res;\n    }\n\n    /**\n     * @method getEventNamesByWildcard\n     * @param {String} wildcard\n     * @return {Array.<String>}\n     */\n    getEventNamesByWildcard(wildcard) {\n        var evts = [],\n            self = this,\n            reg = wildcard.replace(/(\\?)/g, function (str, m) {\n                return '[\\\\w\\'-]{1}';\n            }).replace(/\\*/g, function (key, idx, str) {\n                return str.charAt(idx + 1) !== '' ? '([\\\\S\\\\s][^' + self.channelSeparator + ']*)' : '.*?';\n            });\n        JSON.stringify(Object.keys(this._listeners)).replace(new RegExp('\"(' + reg + ')\"', 'g'), function (ignore, eventName) {\n            evts.push(eventName);\n        });\n        return evts;\n    }\n\n    /**\n     * example:\n     *\n     *      this.emit('evtName');\n     *      this.emit('evtName',params);\n     *      this.emit('evtName',param1,param2);\n     *\n     * @method emit\n     * @param {String} eventType\n     * @return {Array}\n     */\n    emit(eventType) {\n        var params, res = [], listeners, len;\n        if (!eventType) {  //falsy\n            throw new Error(\"Event object missing 'eventName' property.\");\n        }\n        params = slice.call(arguments, 1);\n        if (this._listeners[eventType] instanceof Array) {\n            listeners = this._listeners[eventType];\n            len = listeners.length;\n            //decrease the length (instead of increasing from 0)\n            // in case listener is removed while emit method is running\n            while (len--) {\n                if (listeners[len]) {\n                    res.push({\n                        id: listeners[len].id,\n                        result: listeners[len].content.apply(this, params)\n                    });\n                }\n            }\n        }\n        return res;\n    }\n\n    /**\n     * emit to a particular listener\n     *\n     *      this.emitTo('eventName','listenerId',param1,param2);\n     *\n     * @method emitTo\n     * @param eventType\n     * @param listenerId\n     * @returns {Array}\n     */\n    emitTo(eventType, listenerId) {\n        if (!eventType) {  //falsy\n            throw new Error(\"Event object missing 'eventName' property.\");\n        }\n        var params = slice.call(arguments, 2), res = [], listeners, l;\n        if (this._listeners[eventType] instanceof Array) {\n            listeners = this._listeners[eventType];\n            l = listeners.length;\n            while (l--) {\n                if (listeners[l] && listeners[l].id === listenerId) {\n                    res.push({\n                        id: listenerId,\n                        result: listeners[l].content.apply(this, params)\n                    });\n                    break;\n                }\n            }\n            if (listenerId && !res.length) {\n                throw new Error('listener ' + listenerId + ' is not found in event ' + eventType);\n            }\n        }\n        return res;\n    }\n\n    /**\n     * remove a listener\n     * @method off\n     * @param {String} eventName\n     * @param {String|Function} listener a listener id or listener handler\n     */\n    off(eventName, listener) {\n        var res;\n        if (res = this.hasListener(eventName, listener)) {\n            this._listeners[eventName].splice(res.index, 1);\n        }\n    }\n\n    hasEvent(eventName) {\n        if (!eventName) {\n            return Object.keys(this._listeners).length > 0;\n        }\n        return eventName in this._listeners;\n    }\n\n    eventList() {\n        return Object.keys(this._listeners);\n    }\n\n    /**\n     * @method hasListener\n     * @param {String} eventName\n     * @param {String|Function} listener\n     * @return {Object}\n     */\n    hasListener(eventName, listener) {\n        var listenerType = typeof(listener) === 'string' ? 'id' : 'content', listeners, i = 0, len;\n        if ((listeners = this._listeners[eventName]) && (len = listeners.length) > 0) {\n            for (; i < len; i++) {\n                if (listeners[i][listenerType] === listener) {\n                    return {\n                        index: i\n                    };\n                }\n            }\n        }\n        return null;\n    }\n\n    /**\n     * @method hasListeners\n     * @param {String} eventName event name\n     * @return {Boolean}\n     */\n    hasListeners(eventName) {\n        if (this._listeners[eventName] instanceof Array) {\n            return this._listeners[eventName].length > 0;\n        }\n        return false;\n    }\n\n    /**\n     * @method getListeners\n     * @param {string} eventName event name\n     * @return {Array.<Object>}\n     */\n    getListeners(eventName) {\n        if (this._listeners[eventName] instanceof Array) {\n            return this._listeners[eventName];\n        }\n    }\n\n    /**\n     * @method purgeListeners\n     * @param {String} [evtName] if evtName is undefined, remove all the events\n     */\n    purgeListeners(evtName) {\n        if (evtName) {\n            delete this._listeners[evtName];\n        } else {\n            delete this._listeners;\n            this._listeners = {};\n        }\n    }\n}\n","export default\nclass IDBStore {\n    constructor(db, storeName) {\n        this.db = db;\n        this.storeName = storeName;\n    }\n\n    clear() {\n        var store = this.db.getStore(this.storeName, 'readwrite');\n        return new Promise(function (resolve, reject) {\n            var req = store.clear();\n            req.onsuccess = resolve;\n            req.onerror = function(evt){\n                reject(evt.target.error);\n            };\n        });\n    }\n\n    drop() {\n        return new Promise((resolve, reject)=> {\n            var itemStore = this.db.getStore(this.storeName, 'readwrite'),\n                req = itemStore['delete']();\n            req.onsuccess = resolve;\n            req.onerror = function(evt){\n                reject(evt.target.error);\n            };\n        });\n    }\n\n    insert(item) {\n        var itemStore = this.db.getStore(this.storeName, 'readwrite'),\n            req = itemStore.add(item);\n        return new Promise(function (resolve, reject) {\n            req.onsuccess = function(res){\n                item[itemStore.keyPath] = this.result;\n                resolve(item);\n            };\n            req.onerror = function(evt){\n                reject(evt.target.error);\n            };\n        });\n    }\n\n    openTransaction(mode) {\n        return this.db.openTransaction(this.storeName, mode);\n    }\n\n    upsert(query, data, merge) {\n        var tasks = [], hasData;\n        return new Promise((resolve, reject) => {\n            this.query(query, {\n                openMode: 'readwrite',\n                onCursor: (cursor, store, objectStore) => {\n                    hasData = true;\n                    if (merge) {\n                        data = this.db.mergeData(cursor.value, data);\n                    }\n                    data[objectStore.keyPath] = cursor.primaryKey;\n                    tasks.push(this.cursorOperation(cursor, 'update', data));\n                }\n            }).then((res)=> {\n                if (!hasData) {\n                    var objectStore = this.db.getStore(this.storeName, 'readwrite');\n                    tasks.push(new Promise(function (resolve, reject) {\n                        var req = objectStore.add(data);\n                        req.onsuccess = function(){\n                            data[objectStore.keyPath] = this.result;\n                            resolve(data);\n                        };\n                        req.onerror = reject;\n                    }));\n                }\n                if (!tasks.length) {\n                    return resolve();\n                }\n                Promise.all(tasks).then(resolve, reject);\n            }, reject);\n        });\n    }\n\n    bulk(items) {\n        return this.db.bulk(items, this.storeName);\n    }\n\n    removeByKey(keyPathId) {\n        var itemStore = this.db.getStore(this.storeName, 'readwrite'),\n            req = itemStore['delete'](keyPathId);\n        return new Promise(function (resolve, reject) {\n            req.onsuccess = function(){\n                resolve(this.result);\n            };\n            req.onerror = function(evt){\n                reject(evt.target.error);\n            };\n        });\n    }\n\n    remove(query) {\n        var tasks = [];\n        return new Promise((resolve, reject) => {\n            this.query(query, {\n                openMode: 'readwrite',\n                onCursor: (cursor) => {\n                    if (cursor) {\n                        tasks.push(this.cursorOperation(cursor, 'delete'));\n                    }\n                }\n            }).then(function () {\n                if (!tasks.length) {\n                    return resolve();\n                }\n                Promise.all(tasks).then(resolve, reject);\n            }, reject);\n        });\n    }\n\n    cursorOperation(cursor, action, data) {\n        return new Promise(function (resolve, reject) {\n            var req;\n            if (action !== 'delete') {\n                req = cursor[action](data);\n            } else {\n                req = cursor[action]();\n            }\n            req.onsuccess = function(){\n                resolve(this.source.value);\n            };\n            req.onerror = function(evt){\n                reject(evt.target.error);\n            };\n        });\n    }\n\n    findByKey(keyValue) {\n        var req = this.db.getStore(this.storeName, 'readwrite').get(keyValue);\n        return new Promise(function (resolve, reject) {\n            req.onsuccess = function(){\n                resolve(this.result);\n            };\n            req.onerror = function(evt){\n                reject(evt.target.error);\n            };\n        });\n    }\n\n    buildRange(query) {\n        var range;\n        query = query || {};\n        if ('eq' in query) {\n            range = IDBKeyRange.only(query.eq);\n        } else if ('gte' in query && 'lte' in query) {\n            range = IDBKeyRange.bound(query.gte, query.lte, true, true);\n        } else if ('gte' in query && 'lt' in query) {\n            range = IDBKeyRange.bound(query.gte, query.lt, true, false);\n        } else if ('gt' in query && 'lt' in query) {\n            range = IDBKeyRange.bound(query.gt, query.lt, false, false);\n        } else if ('gt' in query && 'lte' in query) {\n            range = IDBKeyRange.bound(query.gt, query.lte, false, true);\n        } else if ('gt' in query) {\n            range = IDBKeyRange.lowerBound(query.gt);\n        } else if ('gte' in query) {\n            range = IDBKeyRange.lowerBound(query.gte, true);\n        } else if ('lt' in query) {\n            range = IDBKeyRange.upperBound(query.lt);\n        } else if ('lte' in query) {\n            range = IDBKeyRange.upperBound(query.lte, true);\n        }\n        return range;\n    }\n\n    findOne(query) {\n        return new Promise((resolve, reject) => {\n            this.query(query, {\n                onCursor: function () {\n                    return false;\n                }\n            }).then(function (res) {\n                resolve(res[0]);\n            }, reject);\n        });\n    }\n\n    find(query) {\n        return this.query(query);\n    }\n\n    /**\n     *\n     *  query({\n     *      \"eq\":\"admin\",\n     *      \"index\":\"username\",\n     *      \"filter\":[\"$record.total > 10\"]\n     *  });\n     *\n     * @method query\n     * @param {Object} query\n     * @param {*} query.eq only\n     * @param {*} query.gt lowerBound\n     * @param {*} query.gte lowerBound with true\n     * @param {*} query.lt upperBound\n     * @param {*} query.lte upperBound with true\n     * @param {Array|Function} query.filter\n     * @param {String} [query.order] prev,prevunique,next,nextunique\n     * @param {Object} [opt]\n     * @param {String} [opt.openMode='readonly'] readwrite or readonly\n     * @param {Function} [opt.onCursor]\n     */\n    query(query, opt) {\n        opt = opt || {};\n        opt.openMode = opt.openMode || 'readonly';\n        query = query || {};\n        query.order = query.order || 'next';\n        var trans = this.openTransaction(opt.openMode),\n            objectStore = trans.objectStore(this.storeName), reqStore,\n            self = this, collect = [], req, range;\n        range = this.buildRange(query);\n        reqStore = objectStore;\n        if (range) {\n            if (query.index && objectStore.indexNames.contains(query.index)) {\n                reqStore = objectStore.index(query.index);\n                req = reqStore.openCursor(range, query.order);\n            } else {\n                req = reqStore.openCursor(range, query.order);\n            }\n        } else {\n            req = reqStore.openCursor();\n        }\n\n        var deferred = new Promise((resolve, reject)=> {\n            req.onsuccess = function (event) {\n                var queryCursor = event.target.result, next = true;\n                if (queryCursor) {\n                    if (query.filter) {\n                        if (!self.queryFilter(query.filter, queryCursor)) {\n                            return queryCursor['continue']();\n                        }\n                    }\n                    if (opt.onCursor) {\n                        next = opt.onCursor(queryCursor, reqStore, objectStore) !== false;\n                    }\n                    collect.push(queryCursor.value);\n                    if (next) {\n                        queryCursor['continue']();\n                    } else {\n                        resolve(collect);\n                    }\n                } else {\n                    resolve(collect);\n                }\n            };\n\n            req.onerror = function (evt) {\n                console.warn(evt.target.error.message, evt.target.error.name);\n                reject(evt.target.error);\n            };\n        });\n        deferred.abort = function () {\n            req.readyState !== 'done' && trans.abort();\n        };\n        return deferred;\n    }\n\n    queryFilter(filter, cursor) {\n        if (typeof(filter) === 'function') {\n            return filter(cursor);\n        }\n        var value = cursor.value;\n        return new Function('$record', 'return ' + filter.join(' && ') + ' ;')(value);\n    }\n}\n","import BaseEvented from './BaseEvented';\nimport {helper} from './helper';\nimport IDBStore from './IDBStore';\n/**\n * this class depends on axemclion/IndexedDBShim\n * @class com.sesamtv.core.util.store.IndexedDBStore\n * @extends com.sesamtv.core.util.BaseEvented\n */\nexport default\nclass IndexedDBWrapper extends BaseEvented {\n\n    constructor(config) {\n        this.config = {\n            dbName: '',\n            version: 1,\n            stores: {},\n            operatorMapping: {\n                \"eq\": \"=\",\n                \"gt\": \">\",\n                \"gte\": \">=\",\n                \"lt\": \"<\",\n                \"lte\": \"<=\"\n            },\n            forceShim: false,\n            timeFormat: /^(\\d{4})(-(\\d{2}))??(-(\\d{2}))??(T(\\d{2}):(\\d{2})(:(\\d{2}))??(\\.(\\d+))??(([\\+\\-]{1}\\d{2}:\\d{2})|Z)??)??$/,\n            schema: {}\n        };\n        config && helper.mixin(this.config, config);\n        super();\n\n\n    }\n\n    indexedDB() {\n        return window.indexedDB\n            || window.msIndexedDB\n            || window.mozIndexedDB\n            || window.webkitIndexedDB;\n    }\n\n    open(dbConfig) {\n        var self = this;\n        this.config.dbName = dbConfig.dbName;\n        this.config.version = dbConfig.version;\n        return new Promise((resolve, reject) => {\n            var req = this.indexedDB().open(this.config.dbName, this.config.version);\n            req.onsuccess = function (evt) {\n                // Better use \"this\" than \"req\" to get the result to avoid problems with\n                // garbage collection.\n                // db = req.result;\n                self.db = this.result;\n                self.db.onerror = function (evt) {\n                    //global error\n                    self.emit('error', evt.target.error.message);\n                };\n                resolve(self.db);\n\n            };\n            req.onerror = function (evt) {\n                reject(evt.target.error);\n            };\n            req.onupgradeneeded = function (e) {\n                console.log('onupgradeneeded');\n                self.db = this.result;\n                if (!dbConfig.schema || dbConfig.schema.length === 0) {\n                    throw new Error('no schema defined, can not upgrade');\n                }\n                if (e.oldVersion >= dbConfig.schema[dbConfig.schema.length - 1].version) {\n                    return;\n                }\n                self.config.oldVersion = e.oldVersion;\n                self.schema(dbConfig.schema);\n            };\n        });\n    }\n\n    schema(schemas) {\n        this.config.schema = schemas;\n        schemas.forEach(function (schema) {\n            if (schema.version > this.config.oldVersion) {\n                this._schema(schema.schema);\n            }\n        }, this);\n    }\n\n    /**\n     *\n     * @param schema\n     */\n    _schema(schema) {\n        var thisDB = this.db;\n        Object.keys(schema).forEach(function (storeName) {\n            var storeConf = schema[storeName], objectStore;\n            if (thisDB.objectStoreNames.contains(storeName)) {\n                objectStore = thisDB.transaction([storeName], 'readwrite').objectStore(storeName);\n                //for upgrading\n                if (storeConf.alter) {\n                    storeConf.alter.forEach(function (alter) {\n                        if (alter.param) {\n                            objectStore[alter.action].apply(objectStore, alter.param);\n                        } else {\n                            objectStore[alter.action]();\n                        }\n                    });\n                }\n            } else {\n                objectStore = thisDB.createObjectStore(storeName, storeConf.keyPath);\n            }\n            if (storeConf.indexes) {\n                Object.keys(storeConf.indexes).forEach(function (idxName) {\n                    var idxConf = storeConf.indexes[idxName];\n                    objectStore.createIndex(idxName, idxConf.index, {\n                        unique: idxConf.unique\n                    });\n                });\n            }\n        }, this);\n    }\n\n    store(storeName) {\n        if (this.config.stores[storeName]) {\n            return this.config.stores[storeName];\n        }\n        if (this.db.objectStoreNames.contains(storeName)) {\n            return this.config.stores[storeName] = new IDBStore(this, storeName);\n        }\n    }\n\n    /**\n     * {\"put\":[],\"delete\":[],\"upsert\":[{\n     *  \"index\":\"myIndex\",\n     *  \"key\":[\"_id\",\"username\"]\n     *  \"data\":{\n     *      \"_id\":123123,\n     *      \"username\":\"admin\",\n     *      \"key\":null\n     *  },\n     *  \"merge\":true\n     * }]}\n     * @param {Object} items\n     * @param {String} [storeName]\n     * @returns {Promise}\n     */\n    bulk(items, storeName) {\n        var self = this;\n        return new Promise((resolve, reject)=> {\n            var parsedItems = [], item,\n                itemStore = this.getStore(storeName, 'readwrite', {\n                    onerror: function (evt) {\n                        var error = evt.target.error;\n                        error.item = item;\n                        reject(error);\n                    }\n                }), res = [];\n\n            if (Array.isArray(items)) {\n                parsedItems = items.map(function (data) {\n                    return {\n                        method: 'put',\n                        data: data\n                    };\n                });\n            } else {\n                Object.keys(items).forEach(function (method) {\n                    parsedItems = parsedItems.concat(items[method].map(function (data) {\n                        return {\n                            method: method,\n                            data: data\n                        };\n                    }));\n                });\n            }\n\n            function putNext(evt) {\n                var req;\n                if (evt) {\n                    res.push(this.result);\n                }\n                if (parsedItems.length) {\n                    item = parsedItems.shift();\n                    if (item.method === 'upsert') {\n                        if (item.data.index) {\n                            if (itemStore.indexNames.contains(item.data.index)) {\n                                if (!item.data.key) {\n                                    item.data.key = item.data.index;\n                                }\n                                req = itemStore.index(item.data.index)\n                                    .get(Array.isArray(item.data.key) ? item.data.key.map(function (k) {\n                                        return item.data.data[k];\n                                    }) : item.data.data[item.data.key]);\n\n                            } else {\n                                return reject(new Error('index name not found'));\n                            }\n                        } else {\n                            req = itemStore.get(item.data.data[itemStore.keyPath]);\n                        }\n                        req.onsuccess = function (evt) {\n                            if (this.result) {\n                                if (item.data.merge) {\n                                    item.data.data = self.mergeData(this.result, item.data.data);\n                                } else {\n                                    if(item.data.key){\n                                        if (Array.isArray(item.data.key)) {\n                                            item.data.key.forEach(function (k) {\n                                                item.data.data[k] = this.result[k];\n                                            }, this);\n                                        } else {\n                                            item.data.data[item.data.key] = this.result[item.data.key];\n                                        }\n                                    }\n                                    item.data.data[itemStore.keyPath] = this.result[itemStore.keyPath];\n                                }\n                            }\n                            itemStore.put(item.data.data).onsuccess = putNext;\n                        }\n                    } else {\n                        req = itemStore[item.method](item.data);\n                        req.onsuccess = putNext;\n                    }\n\n                } else {\n                    resolve({\n                        results: res,\n                        store: storeName\n                    });\n                }\n            }\n\n            putNext();\n        });\n    }\n\n    getStore(storeName, mode, opt) {\n        var trans = this.openTransaction(storeName, mode, opt);\n        return trans.objectStore(storeName);\n    }\n\n    mergeData(src, data) {\n        Object.keys(data).forEach(function (k) {\n            if (data[k] === null) {\n                delete src[k];\n            } else {\n                src[k] = data[k];\n            }\n        });\n        return src;\n    }\n\n    openTransaction(storeName, mode, opt) {\n        opt = opt || {};\n        var trans = this.db.transaction(storeName, mode);\n        if ('oncomplete' in opt) {\n            trans.oncomplete = opt.oncomplete;\n        }\n        if ('onabort' in opt) {\n            trans.onabort = opt.onabort;\n        }\n        if ('onerror' in opt) {\n            trans.onerror = opt.onerror;\n        }\n        return trans;\n    }\n\n    dropDB() {\n        this.db.close();\n        return this.indexedDB().deleteDatabase(this.config.dbName);\n    }\n\n}\n","\"use strict\";\nlet slice = Array.prototype.slice;\n/**\n * @class com.sesamtv.core.util.Helper\n */\nexport var helper = {\n    /**\n     * create a sandboxed function\n     *\n     *      var fnc = sandbox(['id','name'],'alert(\"id\");');\n     *      //it will throw an error \"undefined is not a function\", because alert is disabled\n     *      fnc(10,'my name');\n     *\n     *      var fnc = sandbox(['id'], 'document.querySelector(\"#\"+id)');\n     *      //it will throw an error because document is disabled\n     *      fnc('container');\n     *\n     *      //to give the access of document to the function\n     *      var fnc = sandbox(['id'],'return document.querySelector(\"#\"+id);',{\n         *          shim:{\n         *              'document':document\n         *          }\n         *      });\n     *      //or only partially\n     *      var fnc = sandbox(['id'],'return document.querySelector(\"#\"+id);',{\n         *          shim:{\n         *              'document':{\n         *                  \"querySelector\":document.querySelector\n         *              }\n         *          }\n         *      });\n     *      fnc('menu');\n     *\n     *\n     * @method sandbox\n     * @param {Array.<String>} param\n     * @param {String} context\n     * @param {Object} opt\n     * @param {Array.<String>} [opt.restrictedVars] restricted variables\n     * @param {Object} [opt.shim] shim the restricted variables\n     * @param {Object} [opt.scope]\n     * @returns {Function}\n     */\n    sandbox: function sandbox(param, context, opt) {\n        opt = opt || {};\n        var restrictedVars = ['window', 'document', 'alert', 'location', 'openDatabase', 'indexedDB',\n                'console', 'close', 'setTimeout', 'setInterval', 'open', 'localStorage', 'sessionStorage',\n                'parent', 'self', 'addEventListener', 'dispatchEvent', 'postMessage', 'WebSocket', 'Blob',\n                'require', 'define', '$'].concat(opt.restrictedVars || []),\n            paramLen = param.length, fnc, argLen = 0, args, shimIndex = 0, foundShim, totalShim,\n            emptyVars = new Array(restrictedVars.length), shimKeys, shimKey,\n            splice = Array.prototype.splice;\n\n        if (opt.shim) {\n            shimKeys = Object.keys(opt.shim);\n            for (totalShim = shimKeys.length; shimIndex < totalShim; shimIndex++) {\n                shimKey = shimKeys[shimIndex];\n                foundShim = restrictedVars.indexOf(shimKey);\n                if (foundShim === -1) {\n                    continue;\n                }\n                emptyVars.splice(foundShim, 1, opt.shim[shimKey]);\n            }\n        }\n\n        param = param.concat(restrictedVars);\n        fnc = new Function(param.join(','), context);\n        return function () {\n            args = splice.call(arguments, 0, paramLen);\n            args = args.concat(emptyVars);\n            return fnc.apply(opt.scope || {}, args);\n        };\n    },\n\n    debounce: function debounce(func, wait, immediate) {\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            clearTimeout(timeout);\n            timeout = setTimeout(function () {\n                timeout = null;\n                if (!immediate) func.apply(context, args);\n            }, wait);\n            if (immediate && !timeout) func.apply(context, args);\n        };\n    },\n    randomIntFromInterval: function randomIntFromInterval(min, max) {\n        return Math.floor(Math.random() * (max - min + 1) + min);\n    },\n    throttle: function throttle(fn, minDelay) {\n        var lastCall = 0;\n        return function () {\n            var now = +new Date();\n            if (now - lastCall < minDelay) {\n                return;\n            }\n            lastCall = now;\n            return fn.apply(this, arguments);\n        };\n    },\n    /**\n     * @method leftPad\n     * @param {String|Number} result\n     * @param {Number} size\n     * @param {String} ch\n     * @returns {string}\n     */\n    leftPad: function (result, size, ch) {\n        result += '';\n        if (!ch) {\n            ch = \" \";\n        }\n        while (result.length < size) {\n            result = ch + result;\n        }\n        return result;\n    },\n    rightPad: function (result, size, ch) {\n        result += '';\n        if (!ch) {\n            ch = \" \";\n        }\n        while (result.length < size) {\n            result = result + ch;\n        }\n        return result;\n    },\n    /**\n     * async array processing without blocking the UI (useful when web worker is not available)\n     * @method chunk\n     * @param {Array} items\n     * @param {Function} process\n     * @param {Object} [context]\n     * @param {Function} [callback]\n     */\n    chunk: function timedChunk(items, process, context, callback) {\n        var todo = items.slice(0), i = 0;\n        setTimeout(function worker() {\n            var start = +new Date();\n            do {\n                process.call(context, todo.shift(), i++);\n            } while (todo.length > 0 && (+new Date() - start < 50));\n            if (todo.length > 0) {\n                setTimeout(worker, 25);\n            } else {\n                callback(items);\n            }\n        }, 25);\n    },\n    /**\n     * uppercase the first character\n     * @method ucFirst\n     * @param {String} str\n     * @returns {String}\n     */\n    ucFirst: function (str) {\n        str += '';\n        var f = str.charAt(0).toUpperCase();\n        return f + str.substr(1);\n    },\n    addSlashes: function (str) {\n        return (str + '')\n            .replace(/[\\\\\"']/g, '\\\\$&')\n            .replace(/\\u0000/g, '\\\\0');\n    },\n    applyIf: function applyIf(dest, obj, override) {\n        var key;\n        for (key in obj) {\n            if (obj.hasOwnProperty(key) && (!(key in dest) || override)) {\n                dest[key] = obj[key];\n            }\n        }\n    },\n    /**\n     * @method substitute\n     * @param {String} template\n     * @param {Object|Array} [map] if map is not defined, return a function with predefined template\n     * @param {Function} [transform]\n     * @param {Object} [thisObject] scope\n     * @returns {String|Function}\n     */\n    substitute: function (template, map, transform, thisObject) {\n        var self = this, run = function (data) {\n            return template.replace(/\\$\\{([^\\s\\:\\}]+)(?:\\:([^\\s\\:\\}]+))?\\}/g,\n                function (match, key, format) {\n                    var value = self.getObject(key, false, data);\n                    if (format) {\n                        value = self.getObject(format, false, thisObject).call(thisObject, value, key);\n                    }\n                    return transform(value, key).toString();\n                });\n        };\n        thisObject = thisObject || typeof(window) === 'undefined' ? global : window;\n        transform = transform ?\n            transform.bind(thisObject) : function (v) {\n            return v;\n        };\n        return map ? run(map) : function (map) {\n            return run(map);\n        };\n    },\n    /**\n     * @method taskBuffer\n     * @param {Array.<function(next:function)>} tasks\n     * @param {Object} [scope]\n     * @returns {{on: Function}}\n     */\n    taskBuffer: function taskBuffer(tasks, scope) {\n        var slice = Array.prototype.slice, args = arguments, task, on = {}, error;\n\n        function next() {\n            if (task = tasks.shift()) {\n                task.apply(scope, [next].concat(slice.call(arguments, 0)));\n            } else {\n                on.done && on.done();\n            }\n        }\n\n        next.error = function (err) {\n            error = err || 'unknown error';\n            on.error && on.error(err, tasks);\n        };\n        setTimeout(function () {\n            next.apply(scope, slice.call(args, 2));\n        }, 0);\n        return {\n            on: function (evtName, fnc) {\n                on[evtName] = fnc;\n                if (error) {\n                    on.error && on.error(error, tasks);\n                } else if (tasks.length === 0) {\n                    on.done && on.done();\n                }\n            }\n        }\n    },\n    taskBufferAsync: function (tasks, finished, options) {\n        options = options || {};\n        var total = tasks.length, task;\n        var done = function (err) {\n            total--;\n            if (!total || err) {\n                finished && finished(err);\n            }\n        };\n        var run = function () {\n            if (!tasks.length) {\n                return console.warn(\"taskBufferAsync - no task appending\");\n            }\n            while (task = tasks.shift()) {\n                if ('then' in task) {\n                    task.then(done);\n                } else {\n                    task(done);\n                }\n            }\n        };\n        if (options.standby) {\n            return {\n                run: function () {\n                    return run();\n                }\n            };\n        }\n        return run();\n    },\n    /**\n     * @method shallowMixin\n     * @param {Object} dest\n     * @param {Object} source\n     * @returns {Object}\n     */\n    shallowMixin: function (dest, source) {\n        var keys = Object.keys(source), name;\n        while ((name = keys.shift())) {\n            dest[name] = source[name];\n        }\n        return dest;\n    },\n    /**\n     * @method mixin\n     * @param {Object} dest\n     * @param {Object} source\n     * @param {Function} [cpFunc]\n     * @returns {Object}\n     */\n    mixin: function (dest, source, cpFunc) {\n        var name, s, empty = {};\n        for (name in source) {\n            s = source[name];\n            if (!(name in dest) ||\n                (dest[name] !== s && (!(name in empty) || empty[name] !== s))) {\n                dest[name] = cpFunc ? cpFunc(s) : s;\n            }\n        }\n        return dest;\n    },\n    /**\n     * @method merge\n     * @param {Object} target\n     * @param {Object} source\n     * @param {Boolean} [nonStrict]\n     * @returns {*}\n     */\n    merge: function merge(target, source, nonStrict) {\n        var tval, sval, name;\n        for (name in source) {\n            if (!nonStrict && !source.hasOwnProperty(name)) {\n                continue;\n            }\n            tval = target[name];\n            sval = source[name];\n            if (tval !== sval) {\n                if (tval && typeof tval === 'object' && sval && typeof sval === 'object') {\n                    merge(tval, sval, nonStrict);\n                } else {\n                    target[name] = sval;\n                }\n            }\n        }\n        return target;\n    },\n    /**\n     * according to [The structured clone algorithm](https://developer.mozilla.org/en-US/docs/Web/Guide/DOM/The_structured_clone_algorithm)\n     * @method deepClone\n     * @param {Object} oToBeCloned\n     * @returns {Object}\n     */\n    deepClone: function deepClone(oToBeCloned) {\n        if (!oToBeCloned || typeof oToBeCloned !== \"object\" || typeof(oToBeCloned) === 'function') {\n            // null, undefined, any non-object, or function\n            return oToBeCloned;\t// anything\n        }\n        var oClone, FConstr = oToBeCloned.constructor;\n\n        if (typeof(HTMLElement) !== 'undefined' && oToBeCloned instanceof HTMLElement) {\n            oClone = oToBeCloned.cloneNode(true);\n        } else if (oToBeCloned instanceof RegExp) {\n            oClone = new RegExp(oToBeCloned.source,\n                \"g\".substr(0, Number(oToBeCloned.global)) +\n                \"i\".substr(0, Number(oToBeCloned.ignoreCase)) +\n                \"m\".substr(0, Number(oToBeCloned.multiline)));\n        } else if (oToBeCloned instanceof Date) {\n            oClone = new Date(oToBeCloned.getTime());\n        } else {\n            oClone = FConstr ? new FConstr() : {};\n            for (var sProp in oToBeCloned) {\n                if (!oToBeCloned.hasOwnProperty(sProp)) {\n                    continue;\n                }\n                oClone[sProp] = deepClone(oToBeCloned[sProp]);\n            }\n        }\n        return oClone;\n    },\n    /**\n     * example:\n     *\n     *      isType('Object')({toto:1});\n     *\n     * @method isType\n     * @param {String} compare Object,String,Array,Function, etc.\n     * @returns {Function}\n     */\n    isType: function isType(compare) {\n        if (typeof compare === 'string' && /^\\w+$/.test(compare)) {\n            compare = '[object ' + compare + ']';\n        } else {\n            compare = Object.prototype.toString.call(compare);\n        }\n        return isType[compare] || (isType[compare] = function (o) {\n                return Object.prototype.toString.call(o) === compare;\n            });\n    },\n    /**\n     * guess real type\n     * @method realType\n     * @param str\n     * @returns {*}\n     */\n    realType: function (str) {\n        var xml;\n        if (typeof(str) !== 'string') {\n            return str;\n        }\n        str = str.trim();\n        if (str.trim() === \"\") {\n            return str;\n        }\n        var mapping = ['true', 'false', 'null', 'undefined'];\n        if (+str === 0 || +str) {\n            return +str;\n        }\n        if (!!~mapping.indexOf(str.toLowerCase())) {\n            return eval(str.toLowerCase());\n        }\n        try {\n            return JSON.parse(str);\n        } catch (e) {\n        }\n        xml = new DOMParser().parseFromString(str, 'text/xml');\n        if (!xml.getElementsByTagName('parsererror').length) {\n            return xml;\n        }\n        return str;\n    },\n    /**\n     * @method castType\n     * @param {*} value\n     * @param {String} type\n     * @returns {*}\n     */\n    castType: function (value, type) {\n        var typeMapping = {\n            \"string\": function (s) {\n                return s + \"\";\n            },\n            \"number\": function (n) {\n                return +n;\n            },\n            \"array\": function (arr) {\n                if (Array.isArray(arr)) {\n                    return arr;\n                }\n                try {\n                    var tmp = JSON.parse(arr);\n                    if (Array.isArray(tmp)) {\n                        return tmp;\n                    }\n                } catch (e) {\n\n                }\n                return arr.split(',');\n            },\n            \"boolean\": function (value) {\n                if (!value) {\n                    value = false;\n                } else {\n                    value = ('' + value).toLowerCase();\n                    value = value !== 'false';\n                }\n                return value;\n            },\n            \"object\": function (o) {\n                try {\n                    return JSON.parse(o);\n                } catch (e) {\n                    return null;\n                }\n            },\n            \"xml\": function (str) {\n                return new DOMParser().parseFromString(str, 'text/xml');\n            }\n        };\n        if (arguments.length === 0) {\n            return typeMapping;\n        }\n        return typeMapping[type] && typeMapping[type](value);\n    },\n    /**\n     * @method getProp\n     * @param {Array} parts\n     * @param {Boolean} create\n     * @param {Object} context\n     * @return Object\n     */\n    getProp: function (parts, create, context) {\n        var obj = context || window;\n        for (var i = 0, p; obj && (p = parts[i]); i++) {\n            obj = (p in obj ? obj[p] : (create ? obj[p] = {} : undefined));\n        }\n        return obj; // mixed\n    },\n    /**\n     * @method getObject\n     * @param {String} name\n     * @param {Boolean} create\n     * @param {Object} context\n     * @return Object\n     */\n    getObject: function (name, create, context) {\n        return this.getProp(name.split(\".\"), create, context); // Object\n    },\n\n    /**\n     * create a function with partial params\n     *\n     *      var fnc1 = function(a,b,c){return a+b+c;}, undef = {}.undef;\n     *      var fnc2 = partial(fnc1,null,undef,2,undef);\n     *      fnc2(1,3); //returns 6\n     *      fnc2(1,1); //returns 4\n     *\n     * @method partial\n     * @param {Function} fn\n     * @param {Object} [scope]\n     * @returns {Function}\n     */\n    partial: function partial(fn, scope) {\n\n        var args = slice.call(arguments, 2);\n        return function () {\n            var arg = 0, i = 0, l = args.length;\n            for (; i < l && arg < arguments.length; i++)\n                if (args[i] === undefined)\n                    args[i] = arguments[arg++];\n            return fn.apply(scope, args);\n        };\n    },\n    queryToObject: function (query, separator) {\n        separator = separator || '&';\n        query = query.trim();\n        if (!query) {\n            return;\n        }\n        var params = {};\n        query.split(separator).forEach(function (part) {\n            part = part.trim();\n            if (!part) {\n                return;\n            }\n            var p = part.split('=');\n            params[p[0].trim()] = p[1].trim();\n        });\n        return params;\n    },\n    objectToQuery: function (obj, separator, fromJson) {\n        separator = separator || '&';\n        var query = [];\n        Object.keys(obj).forEach(function (k) {\n            var o = obj[k], tmp;\n            if (typeof(o) === 'object' && fromJson) {\n                try {\n                    tmp = JSON.stringify(o);\n                } catch (e) {\n                    //\n                }\n                if (tmp !== undefined) {\n                    o = encodeURIComponent(tmp);\n                }\n            }\n            query.push(k + '=' + o);\n        });\n        return query.join(separator);\n    },\n    /**\n     * Return an a object with the url being parsed and fully qualified\n     * @param url to parse\n     * @param baseUrl [optional] a base url to use to fully qualify the url\n     */\n    parseUrl: function (url, baseUrl) {\n        var a = document.createElement('a');\n        // testons d'abord que l'url ne contient pas dj  les doubles ://\n        if (!/:\\/\\//.test(url)) {\n            a.href = baseUrl ? baseUrl : location.href;\n        }\n        a.href += url;\n\n        return {\n            hash: a.hash,\n            host: a.host,\n            hostname: a.hostname,\n            href: a.href,\n            pathname: a.pathname,\n            port: a.port,\n            protocol: a.protocol,\n            search: a.search\n        };\n    },\n    htmlentities: function htmlentities(string, quote_style, charset, double_encode) {\n        //  discuss at: http://phpjs.org/functions/htmlentities/\n        // original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n        //  revised by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n        //  revised by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n        // improved by: nobbler\n        // improved by: Jack\n        // improved by: Rafa Kukawski (http://blog.kukawski.pl)\n        // improved by: Dj (http://phpjs.org/functions/htmlentities:425#comment_134018)\n        // bugfixed by: Onno Marsman\n        // bugfixed by: Brett Zamir (http://brett-zamir.me)\n        //    input by: Ratheous\n        //  depends on: get_html_translation_table\n        //   example 1: htmlentities('Kevin & van Zonneveld');\n        //   returns 1: 'Kevin &amp; van Zonneveld'\n        //   example 2: htmlentities(\"foo'bar\",\"ENT_QUOTES\");\n        //   returns 2: 'foo&#039;bar'\n\n        var hash_map = this.get_html_translation_table('HTML_ENTITIES', quote_style),\n            symbol = '';\n        string = string == null ? '' : string + '';\n\n        if (!hash_map) {\n            return false;\n        }\n\n        if (quote_style && quote_style === 'ENT_QUOTES') {\n            hash_map[\"'\"] = '&#039;';\n        }\n\n        if (!!double_encode || double_encode == null) {\n            for (symbol in hash_map) {\n                if (hash_map.hasOwnProperty(symbol)) {\n                    string = string.split(symbol)\n                        .join(hash_map[symbol]);\n                }\n            }\n        } else {\n            string = string.replace(/([\\s\\S]*?)(&(?:#\\d+|#x[\\da-f]+|[a-zA-Z][\\da-z]*);|$)/g, function (ignore, text, entity) {\n                for (symbol in hash_map) {\n                    if (hash_map.hasOwnProperty(symbol)) {\n                        text = text.split(symbol)\n                            .join(hash_map[symbol]);\n                    }\n                }\n\n                return text + entity;\n            });\n        }\n\n        return string;\n    },\n    get_html_translation_table: function get_html_translation_table(table, quote_style) {\n        //  discuss at: http://phpjs.org/functions/get_html_translation_table/\n        // original by: Philip Peterson\n        //  revised by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n        // bugfixed by: noname\n        // bugfixed by: Alex\n        // bugfixed by: Marco\n        // bugfixed by: madipta\n        // bugfixed by: Brett Zamir (http://brett-zamir.me)\n        // bugfixed by: T.Wild\n        // improved by: KELAN\n        // improved by: Brett Zamir (http://brett-zamir.me)\n        //    input by: Frank Forte\n        //    input by: Ratheous\n        //        note: It has been decided that we're not going to add global\n        //        note: dependencies to php.js, meaning the constants are not\n        //        note: real constants, but strings instead. Integers are also supported if someone\n        //        note: chooses to create the constants themselves.\n        //   example 1: get_html_translation_table('HTML_SPECIALCHARS');\n        //   returns 1: {'\"': '&quot;', '&': '&amp;', '<': '&lt;', '>': '&gt;'}\n\n        var entities = {},\n            hash_map = {},\n            decimal;\n        var constMappingTable = {},\n            constMappingQuoteStyle = {};\n        var useTable = {},\n            useQuoteStyle = {};\n\n        // Translate arguments\n        constMappingTable[0] = 'HTML_SPECIALCHARS';\n        constMappingTable[1] = 'HTML_ENTITIES';\n        constMappingQuoteStyle[0] = 'ENT_NOQUOTES';\n        constMappingQuoteStyle[2] = 'ENT_COMPAT';\n        constMappingQuoteStyle[3] = 'ENT_QUOTES';\n\n        useTable = !isNaN(table) ? constMappingTable[table] : table ? table.toUpperCase() : 'HTML_SPECIALCHARS';\n        useQuoteStyle = !isNaN(quote_style) ? constMappingQuoteStyle[quote_style] : quote_style ? quote_style.toUpperCase() :\n            'ENT_COMPAT';\n\n        if (useTable !== 'HTML_SPECIALCHARS' && useTable !== 'HTML_ENTITIES') {\n            throw new Error('Table: ' + useTable + ' not supported');\n            // return false;\n        }\n\n        entities['38'] = '&amp;';\n        if (useTable === 'HTML_ENTITIES') {\n            entities['160'] = '&nbsp;';\n            entities['161'] = '&iexcl;';\n            entities['162'] = '&cent;';\n            entities['163'] = '&pound;';\n            entities['164'] = '&curren;';\n            entities['165'] = '&yen;';\n            entities['166'] = '&brvbar;';\n            entities['167'] = '&sect;';\n            entities['168'] = '&uml;';\n            entities['169'] = '&copy;';\n            entities['170'] = '&ordf;';\n            entities['171'] = '&laquo;';\n            entities['172'] = '&not;';\n            entities['173'] = '&shy;';\n            entities['174'] = '&reg;';\n            entities['175'] = '&macr;';\n            entities['176'] = '&deg;';\n            entities['177'] = '&plusmn;';\n            entities['178'] = '&sup2;';\n            entities['179'] = '&sup3;';\n            entities['180'] = '&acute;';\n            entities['181'] = '&micro;';\n            entities['182'] = '&para;';\n            entities['183'] = '&middot;';\n            entities['184'] = '&cedil;';\n            entities['185'] = '&sup1;';\n            entities['186'] = '&ordm;';\n            entities['187'] = '&raquo;';\n            entities['188'] = '&frac14;';\n            entities['189'] = '&frac12;';\n            entities['190'] = '&frac34;';\n            entities['191'] = '&iquest;';\n            entities['192'] = '&Agrave;';\n            entities['193'] = '&Aacute;';\n            entities['194'] = '&Acirc;';\n            entities['195'] = '&Atilde;';\n            entities['196'] = '&Auml;';\n            entities['197'] = '&Aring;';\n            entities['198'] = '&AElig;';\n            entities['199'] = '&Ccedil;';\n            entities['200'] = '&Egrave;';\n            entities['201'] = '&Eacute;';\n            entities['202'] = '&Ecirc;';\n            entities['203'] = '&Euml;';\n            entities['204'] = '&Igrave;';\n            entities['205'] = '&Iacute;';\n            entities['206'] = '&Icirc;';\n            entities['207'] = '&Iuml;';\n            entities['208'] = '&ETH;';\n            entities['209'] = '&Ntilde;';\n            entities['210'] = '&Ograve;';\n            entities['211'] = '&Oacute;';\n            entities['212'] = '&Ocirc;';\n            entities['213'] = '&Otilde;';\n            entities['214'] = '&Ouml;';\n            entities['215'] = '&times;';\n            entities['216'] = '&Oslash;';\n            entities['217'] = '&Ugrave;';\n            entities['218'] = '&Uacute;';\n            entities['219'] = '&Ucirc;';\n            entities['220'] = '&Uuml;';\n            entities['221'] = '&Yacute;';\n            entities['222'] = '&THORN;';\n            entities['223'] = '&szlig;';\n            entities['224'] = '&agrave;';\n            entities['225'] = '&aacute;';\n            entities['226'] = '&acirc;';\n            entities['227'] = '&atilde;';\n            entities['228'] = '&auml;';\n            entities['229'] = '&aring;';\n            entities['230'] = '&aelig;';\n            entities['231'] = '&ccedil;';\n            entities['232'] = '&egrave;';\n            entities['233'] = '&eacute;';\n            entities['234'] = '&ecirc;';\n            entities['235'] = '&euml;';\n            entities['236'] = '&igrave;';\n            entities['237'] = '&iacute;';\n            entities['238'] = '&icirc;';\n            entities['239'] = '&iuml;';\n            entities['240'] = '&eth;';\n            entities['241'] = '&ntilde;';\n            entities['242'] = '&ograve;';\n            entities['243'] = '&oacute;';\n            entities['244'] = '&ocirc;';\n            entities['245'] = '&otilde;';\n            entities['246'] = '&ouml;';\n            entities['247'] = '&divide;';\n            entities['248'] = '&oslash;';\n            entities['249'] = '&ugrave;';\n            entities['250'] = '&uacute;';\n            entities['251'] = '&ucirc;';\n            entities['252'] = '&uuml;';\n            entities['253'] = '&yacute;';\n            entities['254'] = '&thorn;';\n            entities['255'] = '&yuml;';\n        }\n\n        if (useQuoteStyle !== 'ENT_NOQUOTES') {\n            entities['34'] = '&quot;';\n        }\n        if (useQuoteStyle === 'ENT_QUOTES') {\n            entities['39'] = '&#39;';\n        }\n        entities['60'] = '&lt;';\n        entities['62'] = '&gt;';\n\n        // ascii decimals to real symbols\n        for (decimal in entities) {\n            if (entities.hasOwnProperty(decimal)) {\n                hash_map[String.fromCharCode(decimal)] = entities[decimal];\n            }\n        }\n\n        return hash_map;\n    },\n    /**\n     * support commonjs and promise\n     * @method async\n     * @param {Function} makeGenerator a generator function which returns promise\n     * @returns {Function}\n     */\n    async: function async(makeGenerator) {\n        return function () {\n            var generator = makeGenerator.apply(this, arguments);\n            function handle(result) { // { done: [Boolean], value: [Object] }\n                if (result.done) {\n                    return result.value;\n                }\n                if (result.value.then) {\n                    return result.value.then(function (res) {\n                        return handle(generator.next(res));\n                    }, function (err) {\n                        return handle(generator.throw(err));\n                    });\n                } else {\n                    return result.value(function (err, res) {\n                        if (err) {\n                            handle(generator.throw(err));\n                        } else {\n                            handle(generator.next(res));\n                        }\n                    });\n                }\n            }\n            return handle(generator.next());\n        }\n    }\n};\n"],"sourceRoot":"/source/"}