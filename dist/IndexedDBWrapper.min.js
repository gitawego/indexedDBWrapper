(function(){var requirejs,require,define;!function(e){function t(e,t){return m.call(e,t)}function n(e,t){var n,r,o,i,s,a,u,c,f,l,p,d=t&&t.split("/"),h=g.map,y=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=e.split("/"),s=e.length-1,g.nodeIdCompat&&b.test(e[s])&&(e[s]=e[s].replace(b,"")),e=d.concat(e),f=0;f<e.length;f+=1)if(p=e[f],"."===p)e.splice(f,1),f-=1;else if(".."===p){if(1===f&&(".."===e[2]||".."===e[0]))break;f>0&&(e.splice(f-1,2),f-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||y)&&h){for(n=e.split("/"),f=n.length;f>0;f-=1){if(r=n.slice(0,f).join("/"),d)for(l=d.length;l>0;l-=1)if(o=h[d.slice(0,l).join("/")],o&&(o=o[r])){i=o,a=f;break}if(i)break;!u&&y&&y[r]&&(u=y[r],c=f)}!i&&u&&(i=u,a=c),i&&(n.splice(0,a,i),e=n.join("/"))}return e}function r(t,n){return function(){var r=v.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),f.apply(e,r.concat([t,n]))}}function o(e){return function(t){return n(t,e)}}function i(e){return function(t){d[e]=t}}function s(n){if(t(h,n)){var r=h[n];delete h[n],y[n]=!0,c.apply(e,r)}if(!t(d,n)&&!t(y,n))throw new Error("No "+n);return d[n]}function a(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function u(e){return function(){return g&&g.config&&g.config[e]||{}}}var c,f,l,p,d={},h={},g={},y={},m=Object.prototype.hasOwnProperty,v=[].slice,b=/\.js$/;l=function(e,t){var r,i=a(e),u=i[0];return e=i[1],u&&(u=n(u,t),r=s(u)),u?e=r&&r.normalize?r.normalize(e,o(t)):n(e,t):(e=n(e,t),i=a(e),u=i[0],e=i[1],u&&(r=s(u))),{f:u?u+"!"+e:e,n:e,pr:u,p:r}},p={require:function(e){return r(e)},exports:function(e){var t=d[e];return"undefined"!=typeof t?t:d[e]={}},module:function(e){return{id:e,uri:"",exports:d[e],config:u(e)}}},c=function(n,o,a,u){var c,f,g,m,v,b,x=[],w=typeof a;if(u=u||n,"undefined"===w||"function"===w){for(o=!o.length&&a.length?["require","exports","module"]:o,v=0;v<o.length;v+=1)if(m=l(o[v],u),f=m.f,"require"===f)x[v]=p.require(n);else if("exports"===f)x[v]=p.exports(n),b=!0;else if("module"===f)c=x[v]=p.module(n);else if(t(d,f)||t(h,f)||t(y,f))x[v]=s(f);else{if(!m.p)throw new Error(n+" missing "+f);m.p.load(m.n,r(u,!0),i(f),{}),x[v]=d[f]}g=a?a.apply(d[n],x):void 0,n&&(c&&c.exports!==e&&c.exports!==d[n]?d[n]=c.exports:g===e&&b||(d[n]=g))}else n&&(d[n]=a)},requirejs=require=f=function(t,n,r,o,i){if("string"==typeof t)return p[t]?p[t](n):s(l(t,n).f);if(!t.splice){if(g=t,g.deps&&f(g.deps,g.callback),!n)return;n.splice?(t=n,n=r,r=null):t=e}return n=n||function(){},"function"==typeof r&&(r=o,o=i),o?c(e,t,n,r):setTimeout(function(){c(e,t,n,r)},4),f},f.config=function(e){return f(e)},requirejs._defined=d,define=function(e,n,r){n.splice||(r=n,n=[]),t(d,e)||t(h,e)||(h[e]=[e,n,r])},define.amd={jQuery:!0}}(),define("BaseEvented",["exports","./CustomEvent","./helper"],function(e,t,n){"use strict";var r=t["default"],o=n.helper,i=Array.prototype.slice,s=function(){var e=function(){this.event=new r,o.applyIf(this,{evts:{},connect:[],config:{}})};return e.prototype.on=function(e,t,n){return this.event[n?"once":"on"](e,t.bind(this))},e.prototype.once=function(e,t){return this.on(e,t.bind(this),!0)},e.prototype.emit=function(){return this.event.emit.apply(this.event,arguments)},e.prototype.broadcast=function(){return this.event.broadcast.apply(this.event,arguments)},e.prototype.set=function(e,t){if("config"===e)return this.setConfigs(t);if(!(e in this&&this[e]===t)){var n={newValue:t};e in this&&(n.oldValue=isObject(this[e])?o.deepClone(this[e]):this[e]),this[e]=t,this.emit(e,n)}},e.prototype.setConfigs=function(e){Object.keys(e).forEach(function(t){this.setConfig(t,e[t])},this)},e.prototype.setConfig=function(e,t){if(1===arguments.length)return this.setConfigs(e);if(!(e in this.config&&this.config[e]===t)){var n={key:e,newValue:t};e in this.config&&(n.oldValue=isObject(this.config[e])?o.deepClone(this.config[e]):this.config[e]),this.config[e]=t,this.emit("config",n),this.emit("config/"+e,n)}},e.prototype.getConfig=function(e){var t=this.config[e],n=e+"Getter";return this.config[n]?this.config[n](t,this):t},e.prototype.removeEvts=function(e){e.forEach(function(e){this.evts[e]&&(this.evts[e].remove(),delete this.evts[e])},this)},e.prototype.destroy=function(){this.connect.forEach(function(e){e.remove()}),this.connect.length=0,Object.keys(this.evts).forEach(function(e){this.evts[e].remove()},this),this.evts={},this.event.purgeListeners(),this.$purgeSuper&&this.$purgeSuper()},e}();e["default"]=s,s.eventize=function(e){e.event=new r,o.applyIf(e,{evts:{},connect:[],config:{}});var t=s.prototype,n={};return Object.keys(t).forEach(function(r){r in e&&"function"==typeof e[r]?n[r]=t[r]:e[r]=t[r]}),e.$super=function(e){return n[e]&&n[e].apply(this,i.call(arguments,1))},e.$purgeSuper=function(){n=null},e}}),define("CustomEvent",["exports"],function(e){"use strict";var t=Array.prototype.slice,n="undefined"!=typeof window?window:global,r="undefined"!=typeof n.crypto&&"undefined"!=typeof n.crypto.getRandomValues?function(){var e=new Uint16Array(8);n.crypto.getRandomValues(e);var t=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return t(e[0])+t(e[1])+"-"+t(e[2])+"-"+t(e[3])+"-"+t(e[4])+"-"+t(e[5])+t(e[6])+t(e[7])}:function(e){e=e||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";var t=(new Date).getTime();return e.replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:7&n|8).toString(16)})},o=function(e,t){var n,r,o={};for(n in t)r=t[n],n in e&&(e[n]===r||n in o&&o[n]===r)||(e[n]=r);return e},i=function(){var e=function(e){this._listeners={},this.channelSeparator="/",e&&o(this,e)};return e.prototype.buildListener=function(e){var t="#Listener:"+r();return"function"==typeof e?e={id:t,content:e}:e.id||(e.id=t),e},e.prototype.on=function(e,t){var n=this;if("undefined"==typeof this._listeners[e]&&(this._listeners[e]=[]),t=this.buildListener(t),this.hasListener(e,t.id))throw new Error("listener id "+t.id+" duplicated");return this._listeners[e].push(t),{remove:function(){return n.off(e,t.id)},id:t.id}},e.prototype.once=function(e,t){var n=this;t=this.buildListener(t);var r=t.content;return t.content=function(){n.off(e,t.id),r.apply(n,arguments)},this.on(e,t)},e.prototype.when=function(e,t){function n(){t.apply(this,arguments)&&r.off(e,n)}var r=this;return n.listener=t,r.on(e,n),this},e.prototype.broadcast=function(e){for(var n=t.call(arguments,1),r=this.getEventNamesByWildcard(e),o=0,i=r.length,s=[];i>o;o++)s.push(this.emit.apply(this,[r[o]].concat(n)));return s},e.prototype.getEventNamesByWildcard=function(e){var t=[],n=this,r=e.replace(/(\?)/g,function(){return"[\\w'-]{1}"}).replace(/\*/g,function(e,t,r){return""!==r.charAt(t+1)?"([\\S\\s][^"+n.channelSeparator+"]*)":".*?"});return JSON.stringify(Object.keys(this._listeners)).replace(new RegExp('"('+r+')"',"g"),function(e,n){t.push(n)}),t},e.prototype.emit=function(e){var n,r,o,i=[];if(!e)throw new Error("Event object missing 'eventName' property.");if(n=t.call(arguments,1),this._listeners[e]instanceof Array)for(r=this._listeners[e],o=r.length;o--;)r[o]&&i.push({id:r[o].id,result:r[o].content.apply(this,n)});return i},e.prototype.emitTo=function(e,n){if(!e)throw new Error("Event object missing 'eventName' property.");var r,o,i=t.call(arguments,2),s=[];if(this._listeners[e]instanceof Array){for(r=this._listeners[e],o=r.length;o--;)if(r[o]&&r[o].id===n){s.push({id:n,result:r[o].content.apply(this,i)});break}if(n&&!s.length)throw new Error("listener "+n+" is not found in event "+e)}return s},e.prototype.off=function(e,t){var n;(n=this.hasListener(e,t))&&this._listeners[e].splice(n.index,1)},e.prototype.hasEvent=function(e){return e?e in this._listeners:Object.keys(this._listeners).length>0},e.prototype.eventList=function(){return Object.keys(this._listeners)},e.prototype.hasListener=function(e,t){var n,r,o="string"==typeof t?"id":"content",i=0;if((n=this._listeners[e])&&(r=n.length)>0)for(;r>i;i++)if(n[i][o]===t)return{index:i};return null},e.prototype.hasListeners=function(e){return this._listeners[e]instanceof Array?this._listeners[e].length>0:!1},e.prototype.getListeners=function(e){return this._listeners[e]instanceof Array?this._listeners[e]:void 0},e.prototype.purgeListeners=function(e){e?delete this._listeners[e]:(delete this._listeners,this._listeners={})},e}();e["default"]=i}),define("IDBStore",["exports"],function(e){"use strict";var t=function(){var e=function(e,t){this.db=e,this.storeName=t};return e.prototype.clear=function(){var e=this.db.getStore(this.storeName,"readwrite");return new Promise(function(t,n){var r=e.clear();r.onsuccess=t,r.onerror=function(e){n(e.target.error)}})},e.prototype.drop=function(){var e=this;return new Promise(function(t,n){var r=e.db.getStore(e.storeName,"readwrite"),o=r["delete"]();o.onsuccess=t,o.onerror=function(e){n(e.target.error)}})},e.prototype.insert=function(e){var t=this.db.getStore(this.storeName,"readwrite"),n=t.add(e);return new Promise(function(r,o){n.onsuccess=function(){e[t.keyPath]=this.result,r(e)},n.onerror=function(e){o(e.target.error)}})},e.prototype.openTransaction=function(e){return this.db.openTransaction(this.storeName,e)},e.prototype.upsert=function(e,t,n){var r,o=this,i=[];return new Promise(function(s,a){o.query(e,{openMode:"readwrite",onCursor:function(e,s,a){r=!0,n&&(t=o.db.mergeData(e.value,t)),t[a.keyPath]=e.primaryKey,i.push(o.cursorOperation(e,"update",t))}}).then(function(){if(!r){var e=o.db.getStore(o.storeName,"readwrite");i.push(new Promise(function(n,r){var o=e.add(t);o.onsuccess=function(){t[e.keyPath]=this.result,n(t)},o.onerror=r}))}return i.length?void Promise.all(i).then(s,a):s()},a)})},e.prototype.bulk=function(e){return this.db.bulk(e,this.storeName)},e.prototype.removeByKey=function(e){var t=this.db.getStore(this.storeName,"readwrite"),n=t["delete"](e);return new Promise(function(e,t){n.onsuccess=function(){e(this.result)},n.onerror=function(e){t(e.target.error)}})},e.prototype.remove=function(e){var t=this,n=[];return new Promise(function(r,o){t.query(e,{openMode:"readwrite",onCursor:function(e){e&&n.push(t.cursorOperation(e,"delete"))}}).then(function(){return n.length?void Promise.all(n).then(r,o):r()},o)})},e.prototype.cursorOperation=function(e,t,n){return new Promise(function(r,o){var i;i="delete"!==t?e[t](n):e[t](),i.onsuccess=function(){r(this.source.value)},i.onerror=function(e){o(e.target.error)}})},e.prototype.findByKey=function(e){var t=this.db.getStore(this.storeName,"readwrite").get(e);return new Promise(function(e,n){t.onsuccess=function(){e(this.result)},t.onerror=function(e){n(e.target.error)}})},e.prototype.buildRange=function(e){var t;return e=e||{},"eq"in e?t=IDBKeyRange.only(e.eq):"gte"in e&&"lte"in e?t=IDBKeyRange.bound(e.gte,e.lte,!0,!0):"gte"in e&&"lt"in e?t=IDBKeyRange.bound(e.gte,e.lt,!0,!1):"gt"in e&&"lt"in e?t=IDBKeyRange.bound(e.gt,e.lt,!1,!1):"gt"in e&&"lte"in e?t=IDBKeyRange.bound(e.gt,e.lte,!1,!0):"gt"in e?t=IDBKeyRange.lowerBound(e.gt):"gte"in e?t=IDBKeyRange.lowerBound(e.gte,!0):"lt"in e?t=IDBKeyRange.upperBound(e.lt):"lte"in e&&(t=IDBKeyRange.upperBound(e.lte,!0)),t},e.prototype.findOne=function(e){var t=this;return new Promise(function(n,r){t.query(e,{onCursor:function(){return!1}}).then(function(e){n(e[0])},r)})},e.prototype.find=function(e){return this.query(e)},e.prototype.query=function(e,t){t=t||{},t.openMode=t.openMode||"readonly",e=e||{},e.order=e.order||"next";var n,r,o,i=this.openTransaction(t.openMode),s=i.objectStore(this.storeName),a=this,u=[];o=this.buildRange(e),n=s,o?e.index&&s.indexNames.contains(e.index)?(n=s.index(e.index),r=n.openCursor(o,e.order)):r=n.openCursor(o,e.order):r=n.openCursor();var c=new Promise(function(o,i){r.onsuccess=function(r){var i=r.target.result,c=!0;if(i){if(e.filter&&!a.queryFilter(e.filter,i))return i["continue"]();t.onCursor&&(c=t.onCursor(i,n,s)!==!1),u.push(i.value),c?i["continue"]():o(u)}else o(u)},r.onerror=function(e){i(e.target.error)}});return c.abort=function(){"done"!==r.readyState&&i.abort()},c},e.prototype.queryFilter=function(e,t){if("function"==typeof e)return e(t);var n=t.value;return new Function("$record","return "+e.join(" && ")+" ;")(n)},e}();e["default"]=t}),define("IndexedDBWrapper",["exports","./BaseEvented","./helper","./IDBStore"],function(e,t,n,r){"use strict";var o=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),e.__proto__=t},i=t["default"],s=n.helper,a=r["default"],u=function(e){var t=function(t){this.config={dbName:"",version:1,stores:{},operatorMapping:{eq:"=",gt:">",gte:">=",lt:"<",lte:"<="},forceShim:!1,timeFormat:/^(\d{4})(-(\d{2}))??(-(\d{2}))??(T(\d{2}):(\d{2})(:(\d{2}))??(\.(\d+))??(([\+\-]{1}\d{2}:\d{2})|Z)??)??$/,schema:{}},t&&s.mixin(this.config,t),e.call(this)};return o(t,e),t.prototype.indexedDB=function(){return window.indexedDB||window.msIndexedDB||window.mozIndexedDB||window.webkitIndexedDB},t.prototype.open=function(e){var t=this,n=this;return this.config.dbName=e.dbName,this.config.version=e.version,new Promise(function(r,o){var i=t.indexedDB().open(t.config.dbName,t.config.version);i.onsuccess=function(){n.db=this.result,n.db.onerror=function(e){n.emit("error",e.target.error.message)},r(n.db)},i.onerror=function(e){o(e.target.error)},i.onupgradeneeded=function(t){if(n.db=this.result,!e.schema||0===e.schema.length)throw new Error("no schema defined, can not upgrade");t.oldVersion>=e.schema[e.schema.length-1].version||(n.config.oldVersion=t.oldVersion,n.schema(e.schema))}})},t.prototype.schema=function(e){this.config.schema=e,e.forEach(function(e){e.version>this.config.oldVersion&&this._schema(e.schema)},this)},t.prototype._schema=function(e){var t=this.db;Object.keys(e).forEach(function(n){var r,o=e[n];t.objectStoreNames.contains(n)?(r=t.transaction([n],"readwrite").objectStore(n),o.alter&&o.alter.forEach(function(e){e.param?r[e.action].apply(r,e.param):r[e.action]()})):r=t.createObjectStore(n,o.keyPath),o.indexes&&Object.keys(o.indexes).forEach(function(e){var t=o.indexes[e];r.createIndex(e,t.index,{unique:t.unique})})},this)},t.prototype.store=function(e){return this.config.stores[e]?this.config.stores[e]:this.db.objectStoreNames.contains(e)?this.config.stores[e]=new a(this,e):void 0},t.prototype.bulk=function(e,t){var n=this,r=this;return new Promise(function(o,i){function s(e){var n;if(e&&f.push(this.result),u.length)if(a=u.shift(),"upsert"===a.method){if(a.data.index){if(!c.indexNames.contains(a.data.index))return i(new Error("index name not found"));a.data.key||(a.data.key=a.data.index),n=c.index(a.data.index).get(Array.isArray(a.data.key)?a.data.key.map(function(e){return a.data.data[e]}):a.data.data[a.data.key])}else n=c.get(a.data.data[c.keyPath]);n.onsuccess=function(){this.result&&(a.data.merge?a.data.data=r.mergeData(this.result,a.data.data):(a.data.key&&(Array.isArray(a.data.key)?a.data.key.forEach(function(e){a.data.data[e]=this.result[e]},this):a.data.data[a.data.key]=this.result[a.data.key]),a.data.data[c.keyPath]=this.result[c.keyPath])),c.put(a.data.data).onsuccess=s}}else n=a.index?c.index(a.index)[a.method](a.data):c[a.method](a.data),n.onsuccess=s;else o({results:f,store:t})}var a,u=[],c=n.getStore(t,"readwrite",{onerror:function(e){var t=e.target.error;t.item=a,i(t)}}),f=[];Array.isArray(e)?Object.keys(e).forEach(function(t){u=u.concat(e[t].map(function(e){return{method:t,data:e}}))}):u=e,s()})},t.prototype.getStore=function(e,t,n){var r=this.openTransaction(e,t,n);return r.objectStore(e)},t.prototype.mergeData=function(e,t){return Object.keys(t).forEach(function(n){null===t[n]?delete e[n]:e[n]=t[n]}),e},t.prototype.openTransaction=function(e,t,n){n=n||{};var r=this.db.transaction(e,t);return"oncomplete"in n&&(r.oncomplete=n.oncomplete),"onabort"in n&&(r.onabort=n.onabort),"onerror"in n&&(r.onerror=n.onerror),r},t.prototype.dropDB=function(){return this.db.close(),this.indexedDB().deleteDatabase(this.config.dbName)},t}(i);e["default"]=u}),define("helper",["exports"],function(exports){"use strict";var slice=Array.prototype.slice,helper=exports.helper={sandbox:function(e,t,n){n=n||{};var r,o,i,s,a,u,c=["window","document","alert","location","openDatabase","indexedDB","console","close","setTimeout","setInterval","open","localStorage","sessionStorage","parent","self","addEventListener","dispatchEvent","postMessage","WebSocket","Blob","require","define","$"].concat(n.restrictedVars||[]),f=e.length,l=0,p=new Array(c.length),d=Array.prototype.splice;if(n.shim)for(a=Object.keys(n.shim),s=a.length;s>l;l++)u=a[l],i=c.indexOf(u),-1!==i&&p.splice(i,1,n.shim[u]);return e=e.concat(c),r=new Function(e.join(","),t),function(){return o=d.call(arguments,0,f),o=o.concat(p),r.apply(n.scope||{},o)}},debounce:function(e,t,n){var r;return function(){var o=this,i=arguments;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(o,i)},t),n&&!r&&e.apply(o,i)}},randomIntFromInterval:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},throttle:function(e,t){var n=0;return function(){var r=+new Date;if(!(t>r-n))return n=r,e.apply(this,arguments)}},leftPad:function(e,t,n){for(e+="",n||(n=" ");e.length<t;)e=n+e;return e},rightPad:function(e,t,n){for(e+="",n||(n=" ");e.length<t;)e+=n;return e},chunk:function(e,t,n,r){var o=e.slice(0),i=0;setTimeout(function s(){var a=+new Date;do t.call(n,o.shift(),i++);while(o.length>0&&+new Date-a<50);o.length>0?setTimeout(s,25):r(e)},25)},ucFirst:function(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)},addSlashes:function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},applyIf:function(e,t,n){var r;for(r in t)!t.hasOwnProperty(r)||r in e&&!n||(e[r]=t[r])},substitute:function(e,t,n,r){var o=this,i=function(t){return e.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(e,i,s){var a=o.getObject(i,!1,t);return s&&(a=o.getObject(s,!1,r).call(r,a,i)),n(a,i).toString()})};return r=r||"undefined"==typeof window?global:window,n=n?n.bind(r):function(e){return e},t?i(t):function(e){return i(e)}},taskBuffer:function(e,t){function n(){(r=e.shift())?r.apply(t,[n].concat(i.call(arguments,0))):a.done&&a.done()}var r,o,i=Array.prototype.slice,s=arguments,a={};return n.error=function(t){o=t||"unknown error",a.error&&a.error(t,e)},setTimeout(function(){n.apply(t,i.call(s,2))},0),{on:function(t,n){a[t]=n,o?a.error&&a.error(o,e):0===e.length&&a.done&&a.done()}}},taskBufferAsync:function(e,t,n){n=n||{};var r,o=e.length,i=function(e){o--,(!o||e)&&t&&t(e)},s=function(){if(!e.length)return void 0;for(;r=e.shift();)"then"in r?r.then(i):r(i)};return n.standby?{run:function(){return s()}}:s()},shallowMixin:function(e,t){for(var n,r=Object.keys(t);n=r.shift();)e[n]=t[n];return e},mixin:function(e,t,n){var r,o,i={};for(r in t)o=t[r],r in e&&(e[r]===o||r in i&&i[r]===o)||(e[r]=n?n(o):o);return e},merge:function e(t,n,r){var o,i,s;for(s in n)(r||n.hasOwnProperty(s))&&(o=t[s],i=n[s],o!==i&&(o&&"object"==typeof o&&i&&"object"==typeof i?e(o,i,r):t[s]=i));return t},deepClone:function t(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;var n,r=e.constructor;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)n=e.cloneNode(!0);else if(e instanceof RegExp)n=new RegExp(e.source,"g".substr(0,Number(e.global))+"i".substr(0,Number(e.ignoreCase))+"m".substr(0,Number(e.multiline)));else if(e instanceof Date)n=new Date(e.getTime());else{n=r?new r:{};for(var o in e)e.hasOwnProperty(o)&&(n[o]=t(e[o]))}return n},isType:function n(e){return e="string"==typeof e&&/^\w+$/.test(e)?"[object "+e+"]":Object.prototype.toString.call(e),n[e]||(n[e]=function(t){return Object.prototype.toString.call(t)===e})},realType:function(str){var xml;if("string"!=typeof str)return str;if(str=str.trim(),""===str.trim())return str;var mapping=["true","false","null","undefined"];if(0===+str||+str)return+str;if(~mapping.indexOf(str.toLowerCase()))return eval(str.toLowerCase());try{return JSON.parse(str)}catch(e){}return xml=(new DOMParser).parseFromString(str,"text/xml"),xml.getElementsByTagName("parsererror").length?str:xml},castType:function(e,t){var n={string:function(e){return e+""},number:function(e){return+e},array:function(e){if(Array.isArray(e))return e;try{var t=JSON.parse(e);if(Array.isArray(t))return t}catch(n){}return e.split(",")},"boolean":function(e){return e?(e=(""+e).toLowerCase(),e="false"!==e):e=!1,e},object:function(e){try{return JSON.parse(e)}catch(t){return null}},xml:function(e){return(new DOMParser).parseFromString(e,"text/xml")}};return 0===arguments.length?n:n[t]&&n[t](e)},getProp:function(e,t,n){for(var r,o=n||window,i=0;o&&(r=e[i]);i++)o=r in o?o[r]:t?o[r]={}:void 0;return o},getObject:function(e,t,n){return this.getProp(e.split("."),t,n)},partial:function(e,t){var n=slice.call(arguments,2);return function(){for(var r=0,o=0,i=n.length;i>o&&r<arguments.length;o++)void 0===n[o]&&(n[o]=arguments[r++]);return e.apply(t,n)}},queryToObject:function(e,t){if(t=t||"&",e=e.trim()){var n={};return e.split(t).forEach(function(e){if(e=e.trim()){var t=e.split("=");n[t[0].trim()]=t[1].trim()}}),n}},objectToQuery:function(e,t,n){t=t||"&";var r=[];return Object.keys(e).forEach(function(t){var o,i=e[t];if("object"==typeof i&&n){try{o=JSON.stringify(i)}catch(s){}void 0!==o&&(i=encodeURIComponent(o))}r.push(t+"="+i)}),r.join(t)},parseUrl:function(e,t){var n=document.createElement("a");return/:\/\//.test(e)||(n.href=t?t:location.href),n.href+=e,{hash:n.hash,host:n.host,hostname:n.hostname,href:n.href,pathname:n.pathname,port:n.port,protocol:n.protocol,search:n.search}},htmlentities:function(e,t,n,r){var o=this.get_html_translation_table("HTML_ENTITIES",t),i="";if(e=null==e?"":e+"",!o)return!1;if(t&&"ENT_QUOTES"===t&&(o["'"]="&#039;"),r||null==r)for(i in o)o.hasOwnProperty(i)&&(e=e.split(i).join(o[i]));else e=e.replace(/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,function(e,t,n){for(i in o)o.hasOwnProperty(i)&&(t=t.split(i).join(o[i]));return t+n});return e},get_html_translation_table:function(e,t){var n,r={},o={},i={},s={},a={},u={};if(i[0]="HTML_SPECIALCHARS",i[1]="HTML_ENTITIES",s[0]="ENT_NOQUOTES",s[2]="ENT_COMPAT",s[3]="ENT_QUOTES",a=isNaN(e)?e?e.toUpperCase():"HTML_SPECIALCHARS":i[e],u=isNaN(t)?t?t.toUpperCase():"ENT_COMPAT":s[t],"HTML_SPECIALCHARS"!==a&&"HTML_ENTITIES"!==a)throw new Error("Table: "+a+" not supported");r[38]="&amp;","HTML_ENTITIES"===a&&(r[160]="&nbsp;",r[161]="&iexcl;",r[162]="&cent;",r[163]="&pound;",r[164]="&curren;",r[165]="&yen;",r[166]="&brvbar;",r[167]="&sect;",r[168]="&uml;",r[169]="&copy;",r[170]="&ordf;",r[171]="&laquo;",r[172]="&not;",r[173]="&shy;",r[174]="&reg;",r[175]="&macr;",r[176]="&deg;",r[177]="&plusmn;",r[178]="&sup2;",r[179]="&sup3;",r[180]="&acute;",r[181]="&micro;",r[182]="&para;",r[183]="&middot;",r[184]="&cedil;",r[185]="&sup1;",r[186]="&ordm;",r[187]="&raquo;",r[188]="&frac14;",r[189]="&frac12;",r[190]="&frac34;",r[191]="&iquest;",r[192]="&Agrave;",r[193]="&Aacute;",r[194]="&Acirc;",r[195]="&Atilde;",r[196]="&Auml;",r[197]="&Aring;",r[198]="&AElig;",r[199]="&Ccedil;",r[200]="&Egrave;",r[201]="&Eacute;",r[202]="&Ecirc;",r[203]="&Euml;",r[204]="&Igrave;",r[205]="&Iacute;",r[206]="&Icirc;",r[207]="&Iuml;",r[208]="&ETH;",r[209]="&Ntilde;",r[210]="&Ograve;",r[211]="&Oacute;",r[212]="&Ocirc;",r[213]="&Otilde;",r[214]="&Ouml;",r[215]="&times;",r[216]="&Oslash;",r[217]="&Ugrave;",r[218]="&Uacute;",r[219]="&Ucirc;",r[220]="&Uuml;",r[221]="&Yacute;",r[222]="&THORN;",r[223]="&szlig;",r[224]="&agrave;",r[225]="&aacute;",r[226]="&acirc;",r[227]="&atilde;",r[228]="&auml;",r[229]="&aring;",r[230]="&aelig;",r[231]="&ccedil;",r[232]="&egrave;",r[233]="&eacute;",r[234]="&ecirc;",r[235]="&euml;",r[236]="&igrave;",r[237]="&iacute;",r[238]="&icirc;",r[239]="&iuml;",r[240]="&eth;",r[241]="&ntilde;",r[242]="&ograve;",r[243]="&oacute;",r[244]="&ocirc;",r[245]="&otilde;",r[246]="&ouml;",r[247]="&divide;",r[248]="&oslash;",r[249]="&ugrave;",r[250]="&uacute;",r[251]="&ucirc;",r[252]="&uuml;",r[253]="&yacute;",r[254]="&thorn;",r[255]="&yuml;"),"ENT_NOQUOTES"!==u&&(r[34]="&quot;"),"ENT_QUOTES"===u&&(r[39]="&#39;"),r[60]="&lt;",r[62]="&gt;";for(n in r)r.hasOwnProperty(n)&&(o[String.fromCharCode(n)]=r[n]);return o},async:function(e){return function(){function t(e){return e.done?e.value:e.value.then?e.value.then(function(e){return t(n.next(e))},function(e){return t(n["throw"](e))}):e.value(function(e,r){t(e?n["throw"](e):n.next(r))})}var n=e.apply(this,arguments);return t(n.next())}}}}),this.IndexedDBWrapper=require("IndexedDBWrapper")["default"]}).bind(window)();
//# sourceMappingURL=IndexedDBWrapper.min.js.map